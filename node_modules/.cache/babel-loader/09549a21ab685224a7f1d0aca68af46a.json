{"ast":null,"code":"var _jsxFileName = \"E:\\\\React_Projects\\\\e-commerce_bicycle\\\\src\\\\layout\\\\pages\\\\Shop.js\";\nimport React, { useState, useEffect, useReducer, useContext } from 'react';\nimport { Slider, ColorSelector, SortProductsCard } from '../../components/Filters';\nimport { initialState, reducer } from '../../reducers/productReducer';\nimport { Transition } from 'react-transition-group';\nimport ProductModal from '../../components/modals/ProductModal';\nimport '../styles/Shop.css';\nimport '../styles/ProductFilter.css';\nimport { Link } from 'react-router-dom';\nimport { ProductContext } from '../../components/context/productContext';\n\nfunction FilterCard() {\n  const toggledStyles = {\n    entered: {\n      zIndex: 1\n    },\n    exiting: {\n      maxHeight: '100px'\n    },\n    exited: {\n      transform: 'translateY(-100%)',\n      maxHeight: 0,\n      overflow: 'hidden',\n      zIndex: -1\n    }\n  };\n  const { ...props\n  } = useContext(ProductContext);\n  const [toggled, updateToggle] = useState({\n    price: true,\n    color: false\n  });\n  const [highlightedColor, updateColor] = useState('');\n\n  const targetedColor = color => {\n    return updateColor(`: ${color}`);\n  }; //Add clear filter functionality\n\n\n  return React.createElement(\"div\", {\n    className: \"product-filter\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(SortProductsCard, Object.assign({}, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"filter-options\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, \"Filter By\"), React.createElement(\"div\", {\n    \"data-is-toggled\": toggled.price,\n    className: \"filter-type\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"filter-type-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \"Price\"), React.createElement(\"span\", {\n    onClick: () => updateToggle({ ...toggled,\n      price: !toggled.price\n    }),\n    id: 'price-toggle',\n    className: `filter-toggle-action ${toggled.price ? 'fas fa-minus' : 'fas fa-plus'} `,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  })), React.createElement(Transition, {\n    timeout: 0,\n    in: toggled.price,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, state => React.createElement(\"div\", {\n    style: { ...toggledStyles[state],\n      transition: '.2s ease-in-out'\n    },\n    className: \"filter-content\",\n    id: \"price-slider\",\n    \"data-is-toggled\": toggled.price,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(Slider, Object.assign({}, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }))))), React.createElement(\"div\", {\n    \"data-is-toggled\": toggled.color,\n    className: \"filter-type\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"filter-type-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, highlightedColor !== ': undefined' ? 'Color' + highlightedColor : 'Color'), React.createElement(\"span\", {\n    onClick: () => updateToggle({ ...toggled,\n      color: !toggled.color\n    }),\n    id: \"color-toggle\",\n    className: `filter-toggle-action ${toggled.color ? 'fas fa-minus' : 'fas fa-plus'} `,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  })), React.createElement(Transition, {\n    timeout: 0,\n    in: toggled.color,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, state => React.createElement(\"div\", {\n    style: { ...toggledStyles[state],\n      transition: '.2s ease-in-out'\n    },\n    className: \"filter-content\",\n    id: \"color-filter\",\n    \"data-is-toggled\": toggled.color,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    className: \"color-filter-list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  }, React.createElement(ColorSelector, Object.assign({\n    displayColor: targetedColor\n  }, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }))))))));\n}\n\nfunction Products(props) {\n  const [previewToggled, updateToggle] = useState({\n    toggled: false,\n    key: null\n  });\n\n  const passProduct = data => updateToggle({\n    toggled: !previewToggled.toggled,\n    key: data || null\n  });\n\n  const closeModal = state => state ? updateToggle({\n    toggled: false,\n    key: ' '\n  }) : null;\n\n  return React.createElement(\"div\", {\n    className: \"product-items-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, props.items.map(({\n    name,\n    key,\n    price,\n    src\n  }) => React.createElement(\"li\", {\n    key: key,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"product-item\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"product-img\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/productpage\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: src,\n    alt: `${name} bike`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  })), React.createElement(\"span\", {\n    onClick: passProduct.bind(this, key),\n    className: \"product-quickview\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, \"Quick View\"))), React.createElement(\"span\", {\n    className: \"item-details\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/productpage\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    onClick: () => console.log(price.toString()),\n    \"data-item-title\": name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, name), React.createElement(\"p\", {\n    \"data-item-price\": price,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, '$' + price))))))), previewToggled.toggled && React.createElement(ProductModal, Object.assign({\n    close: closeModal,\n    toggled: previewToggled.toggled,\n    selectedProduct: previewToggled.key\n  }, props, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  })));\n}\n\nfunction ProductGalleryContainer() {\n  const {\n    product\n  } = React.useContext(ProductContext);\n  const [filter, setFilter] = useState(product.items);\n  useEffect(() => {\n    setFilter(product.filteredItems.length !== 0 ? product.filteredItems : product.items);\n  }, [product]);\n  return React.createElement(\"section\", {\n    className: \"product-gallery\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  }, React.createElement(FilterCard, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  }), React.createElement(Products, {\n    items: filter,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  }));\n}\n\nfunction Shop(props) {\n  //------------------------FetchDataHook------------------//\n  // const { results, loading } = useDataFetching(\n  //   'https://raw.githubusercontent.com/mwayne16/e-commerce_bicycle/master/src/application.json'\n  // );\n  return React.createElement(\"section\", {\n    className: \"product-collection\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"collection-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  }, \"Our Collection\"), React.createElement(ProductGalleryContainer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194\n    },\n    __self: this\n  }));\n}\n\nexport { Shop, ProductContext };","map":{"version":3,"sources":["E:/React_Projects/e-commerce_bicycle/src/layout/pages/Shop.js"],"names":["React","useState","useEffect","useReducer","useContext","Slider","ColorSelector","SortProductsCard","initialState","reducer","Transition","ProductModal","Link","ProductContext","FilterCard","toggledStyles","entered","zIndex","exiting","maxHeight","exited","transform","overflow","props","toggled","updateToggle","price","color","highlightedColor","updateColor","targetedColor","state","transition","Products","previewToggled","key","passProduct","data","closeModal","items","map","name","src","bind","console","log","toString","ProductGalleryContainer","product","filter","setFilter","filteredItems","length","Shop"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useReducer, useContext } from 'react';\r\nimport {\r\n  Slider,\r\n  ColorSelector,\r\n  SortProductsCard,\r\n} from '../../components/Filters';\r\nimport { initialState, reducer } from '../../reducers/productReducer';\r\nimport { Transition } from 'react-transition-group';\r\nimport ProductModal from '../../components/modals/ProductModal';\r\nimport '../styles/Shop.css';\r\nimport '../styles/ProductFilter.css';\r\nimport { Link } from 'react-router-dom';\r\nimport { ProductContext } from '../../components/context/productContext';\r\n\r\nfunction FilterCard() {\r\n  const toggledStyles = {\r\n    entered: {\r\n      zIndex: 1,\r\n    },\r\n    exiting: {\r\n      maxHeight: '100px',\r\n    },\r\n    exited: {\r\n      transform: 'translateY(-100%)',\r\n      maxHeight: 0,\r\n      overflow: 'hidden',\r\n      zIndex: -1,\r\n    },\r\n  };\r\n  const { ...props } = useContext(ProductContext);\r\n  const [toggled, updateToggle] = useState({ price: true, color: false });\r\n  const [highlightedColor, updateColor] = useState('');\r\n\r\n  const targetedColor = (color) => {\r\n    return updateColor(`: ${color}`);\r\n  };\r\n\r\n  //Add clear filter functionality\r\n  return (\r\n    <div className=\"product-filter\">\r\n      <SortProductsCard {...props} />\r\n      <div className=\"filter-options\">\r\n        <h2>Filter By</h2>\r\n        <div data-is-toggled={toggled.price} className=\"filter-type\">\r\n          <div className=\"filter-type-header\">\r\n            <p>Price</p>\r\n            <span\r\n              onClick={() =>\r\n                updateToggle({ ...toggled, price: !toggled.price })\r\n              }\r\n              id={'price-toggle'}\r\n              className={`filter-toggle-action ${\r\n                toggled.price ? 'fas fa-minus' : 'fas fa-plus'\r\n              } `}\r\n            ></span>\r\n          </div>\r\n          <Transition timeout={0} in={toggled.price}>\r\n            {(state) => (\r\n              <div\r\n                style={{\r\n                  ...toggledStyles[state],\r\n                  transition: '.2s ease-in-out',\r\n                }}\r\n                className=\"filter-content\"\r\n                id=\"price-slider\"\r\n                data-is-toggled={toggled.price}\r\n              >\r\n                <Slider {...props} />\r\n              </div>\r\n            )}\r\n          </Transition>\r\n        </div>\r\n\r\n        <div data-is-toggled={toggled.color} className=\"filter-type\">\r\n          <div className=\"filter-type-header\">\r\n            <p>\r\n              {highlightedColor !== ': undefined'\r\n                ? 'Color' + highlightedColor\r\n                : 'Color'}\r\n            </p>\r\n            <span\r\n              onClick={() =>\r\n                updateToggle({ ...toggled, color: !toggled.color })\r\n              }\r\n              id=\"color-toggle\"\r\n              className={`filter-toggle-action ${\r\n                toggled.color ? 'fas fa-minus' : 'fas fa-plus'\r\n              } `}\r\n            ></span>\r\n          </div>\r\n          <Transition timeout={0} in={toggled.color}>\r\n            {(state) => (\r\n              <div\r\n                style={{\r\n                  ...toggledStyles[state],\r\n                  transition: '.2s ease-in-out',\r\n                }}\r\n                className=\"filter-content\"\r\n                id=\"color-filter\"\r\n                data-is-toggled={toggled.color}\r\n              >\r\n                <ul className=\"color-filter-list\">\r\n                  <ColorSelector displayColor={targetedColor} {...props} />\r\n                </ul>\r\n              </div>\r\n            )}\r\n          </Transition>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Products(props) {\r\n  const [previewToggled, updateToggle] = useState({\r\n    toggled: false,\r\n    key: null,\r\n  });\r\n\r\n  const passProduct = (data) =>\r\n    updateToggle({ toggled: !previewToggled.toggled, key: data || null });\r\n\r\n  const closeModal = (state) =>\r\n    state ? updateToggle({ toggled: false, key: ' ' }) : null;\r\n  return (\r\n    <div className=\"product-items-container\">\r\n      <ul>\r\n        {props.items.map(({ name, key, price, src }) => (\r\n          <li key={key}>\r\n            <div className=\"product-item\">\r\n              <div className=\"product-img\">\r\n                <Link to=\"/productpage\">\r\n                  <img src={src} alt={`${name} bike`} />\r\n                </Link>\r\n                <span\r\n                  onClick={passProduct.bind(this, key)}\r\n                  className=\"product-quickview\"\r\n                >\r\n                  <p>Quick View</p>\r\n                </span>\r\n              </div>\r\n\r\n              <span className=\"item-details\">\r\n                <Link to=\"/productpage\">\r\n                  <p\r\n                    onClick={() => console.log(price.toString())}\r\n                    data-item-title={name}\r\n                  >\r\n                    {name}\r\n                  </p>\r\n                  <p data-item-price={price}>{'$' + price}</p>\r\n                </Link>\r\n              </span>\r\n            </div>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n      {previewToggled.toggled && (\r\n        <ProductModal\r\n          close={closeModal}\r\n          toggled={previewToggled.toggled}\r\n          selectedProduct={previewToggled.key}\r\n          {...props}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ProductGalleryContainer() {\r\n  const { product } = React.useContext(ProductContext);\r\n  const [filter, setFilter] = useState(product.items);\r\n  useEffect(() => {\r\n    setFilter(\r\n      product.filteredItems.length !== 0 ? product.filteredItems : product.items\r\n    );\r\n  }, [product]);\r\n  return (\r\n    <section className=\"product-gallery\">\r\n      <FilterCard />\r\n      <Products items={filter} />\r\n    </section>\r\n  );\r\n}\r\nfunction Shop(props) {\r\n  //------------------------FetchDataHook------------------//\r\n  // const { results, loading } = useDataFetching(\r\n  //   'https://raw.githubusercontent.com/mwayne16/e-commerce_bicycle/master/src/application.json'\r\n  // );\r\n\r\n  return (\r\n    <section className=\"product-collection\">\r\n      <h1 className=\"collection-header\">Our Collection</h1>\r\n      <ProductGalleryContainer />\r\n    </section>\r\n  );\r\n}\r\nexport { Shop, ProductContext };\r\n"]},"metadata":{},"sourceType":"module"}