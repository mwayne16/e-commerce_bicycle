{"ast":null,"code":"import { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nfunction useDataFetching(dataSource) {\n  const [loading, setLoading] = useState(true);\n  const [results, setResults] = useState([]);\n  useEffect(() => {\n    async function fetchData() {\n      const fetchFrom = await fetch(dataSource);\n\n      try {\n        const response = await axios.get(fetchFrom);\n        const data = response.data;\n        setResults(data);\n      } catch (error) {\n        setLoading(false);\n        throw Error(error);\n      }\n    }\n\n    return () => {};\n  }, [dataSource]);\n  return {\n    loading,\n    results\n  };\n}\n\nexport default useDataFetching; //     try {\n//       const data = await fetch(dataSource);\n//       const json = await data.json();\n//       if (json) {\n//         setLoading(false);\n//         setResults(json);\n//       }\n//     } catch (error) {\n//       setLoading(false);\n//     }\n//     setLoading(false);\n//   }\n//   fetchData();\n// }, [dataSource]);\n// return {\n//   loading,\n//   results\n// };","map":{"version":3,"sources":["E:/React_Projects/e-commerce_bicycle/src/components/useDataFetching.js"],"names":["useState","useEffect","axios","useDataFetching","dataSource","loading","setLoading","results","setResults","fetchData","fetchFrom","fetch","response","get","data","error","Error"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AACA,SAASC,eAAT,CAAyBC,UAAzB,EAAqC;AACnC,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBN,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAACO,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC,EAAD,CAAtC;AACAC,EAAAA,SAAS,CAAC,MAAM;AACd,mBAAeQ,SAAf,GAA2B;AACzB,YAAMC,SAAS,GAAG,MAAMC,KAAK,CAACP,UAAD,CAA7B;;AAEA,UAAI;AACF,cAAMQ,QAAQ,GAAG,MAAMV,KAAK,CAACW,GAAN,CAAUH,SAAV,CAAvB;AACA,cAAMI,IAAI,GAAGF,QAAQ,CAACE,IAAtB;AACAN,QAAAA,UAAU,CAACM,IAAD,CAAV;AACD,OAJD,CAIE,OAAOC,KAAP,EAAc;AACdT,QAAAA,UAAU,CAAC,KAAD,CAAV;AACA,cAAMU,KAAK,CAACD,KAAD,CAAX;AACD;AACF;;AACD,WAAO,MAAM,CAAE,CAAf;AACD,GAdQ,EAcN,CAACX,UAAD,CAdM,CAAT;AAeA,SAAO;AACLC,IAAAA,OADK;AAELE,IAAAA;AAFK,GAAP;AAID;;AACD,eAAeJ,eAAf,C,CAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA","sourcesContent":["import { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nfunction useDataFetching(dataSource) {\r\n  const [loading, setLoading] = useState(true);\r\n  const [results, setResults] = useState([]);\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const fetchFrom = await fetch(dataSource);\r\n\r\n      try {\r\n        const response = await axios.get(fetchFrom);\r\n        const data = response.data;\r\n        setResults(data);\r\n      } catch (error) {\r\n        setLoading(false);\r\n        throw Error(error);\r\n      }\r\n    }\r\n    return () => {};\r\n  }, [dataSource]);\r\n  return {\r\n    loading,\r\n    results\r\n  };\r\n}\r\nexport default useDataFetching;\r\n\r\n//     try {\r\n//       const data = await fetch(dataSource);\r\n//       const json = await data.json();\r\n\r\n//       if (json) {\r\n//         setLoading(false);\r\n//         setResults(json);\r\n//       }\r\n//     } catch (error) {\r\n//       setLoading(false);\r\n//     }\r\n\r\n//     setLoading(false);\r\n//   }\r\n\r\n//   fetchData();\r\n// }, [dataSource]);\r\n\r\n// return {\r\n//   loading,\r\n//   results\r\n// };\r\n"]},"metadata":{},"sourceType":"module"}