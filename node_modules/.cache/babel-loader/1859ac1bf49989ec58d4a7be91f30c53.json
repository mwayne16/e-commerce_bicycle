{"ast":null,"code":"import _objectSpread from\"E:\\\\React_Projects\\\\e-commerce_bicycle\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"E:\\\\React_Projects\\\\e-commerce_bicycle\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{CartItemsContext}from'../context/cartContext';import{CartModalContext}from'../context/modalContext';import'../../layout/styles/CartModal.css';import{Link}from'react-router-dom';function CartButton(props){var _React$useContext=React.useContext(CartModalContext),_React$useContext2=_slicedToArray(_React$useContext,2),toggled=_React$useContext2[0],setToggle=_React$useContext2[1];return/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return setToggle(!toggled);},style:_objectSpread({},styles.button),className:\"toggleCartWidget\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fas fa-shopping-bag\"},/*#__PURE__*/React.createElement(\"p\",{className:\"bagCount\"},props.itemCount)),/*#__PURE__*/React.createElement(\"p\",{style:{fontSize:'12px',textTransform:'uppercase',marginTop:'5px',fontWeight:'600',width:'60px'}},\"My Cart\"));}function CartModal(){var _React$useContext3=React.useContext(CartItemsContext),products=_React$useContext3.products,setProduct=_React$useContext3.setProduct,subTotal=_React$useContext3.subTotal;var _React$useContext4=React.useContext(CartModalContext),_React$useContext5=_slicedToArray(_React$useContext4,2),toggled=_React$useContext5[0],setToggle=_React$useContext5[1];var _useState=useState(false),_useState2=_slicedToArray(_useState,2),transition=_useState2[0],setTransition=_useState2[1];var handleModal=function handleModal(){setTransition(!transition);setTimeout(function(){setToggle(!toggled);},1000);};var modalStyles={modalExit:{animation:'modal-onExit 1s forwards'},arrowExit:{animation:'modalArrow-onExit 1s forwards'}};return/*#__PURE__*/React.createElement(\"aside\",{style:transition?modalStyles.modalExit:null,className:\"cart-popout-modal\"},/*#__PURE__*/React.createElement(\"header\",{className:\"cart-modal-header\"},/*#__PURE__*/React.createElement(\"span\",{style:transition?modalStyles.arrowExit:null,onClick:handleModal,className:\"fas fa-chevron-right\"}),/*#__PURE__*/React.createElement(\"h1\",null,\"Cart\")),/*#__PURE__*/React.createElement(\"main\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"cart-modal-product\"},/*#__PURE__*/React.createElement(\"ul\",null,products.map(function(_ref){var sku=_ref.sku,name=_ref.name,quanity=_ref.quanity,price=_ref.price,color=_ref.color,src=_ref.src,key=_ref.key;return/*#__PURE__*/React.createElement(\"li\",{key:key,\"data-active\":\"false\",className:\"cart-modal-item\"},/*#__PURE__*/React.createElement(\"div\",{className:\"item-wrapper\"},/*#__PURE__*/React.createElement(Link,{to:{pathname:'/Products',state:{name:name,sku:sku,price:price,color:color,src:src,key:key}}},/*#__PURE__*/React.createElement(\"aside\",{onClick:handleModal,className:\"item-image\",style:{background:\"url(\".concat(src,\") no-repeat left center / contain  \")}})),/*#__PURE__*/React.createElement(\"div\",{className:\"item-info\"},/*#__PURE__*/React.createElement(\"div\",{className:\"item-header\"},/*#__PURE__*/React.createElement(\"h2\",null,name),/*#__PURE__*/React.createElement(\"span\",{onClick:function onClick(){return setProduct(products.filter(function(product){return product.sku!==sku;}));},className:\"far fa-times-circle\"})),/*#__PURE__*/React.createElement(\"p\",null,\"QTY:\",quanity),/*#__PURE__*/React.createElement(\"p\",null,price))));}))),/*#__PURE__*/React.createElement(\"div\",{className:\"cart-modal-total\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Subtotal\"),/*#__PURE__*/React.createElement(\"h1\",null,subTotal))),/*#__PURE__*/React.createElement(\"footer\",{className:\"modal-footer\"},/*#__PURE__*/React.createElement(Link,{to:{pathname:'/Checkout'}},/*#__PURE__*/React.createElement(\"button\",{onClick:handleModal,className:\"product-item-addToCart defaultButton alt-button\",type:\"button\"},\"View Cart\"))));}function CartWidget(){var _React$useContext6=React.useContext(CartItemsContext),products=_React$useContext6.products;var count=products.length>=1?products.reduce(function(acc,current){return{quanity:acc.quanity+current.quanity};}):0;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(CartButton,{itemCount:count.quanity||count}));}export{CartWidget,CartModal};var styles={button:{lineHeight:'4',top:'0',bottom:'0',position:'relative',height:'auto',padding:'0.5em 3em',background:'#294057',color:'#fff'}};","map":{"version":3,"sources":["E:/React_Projects/e-commerce_bicycle/client/src/components/modals/CartWidget.js"],"names":["React","useState","CartItemsContext","CartModalContext","Link","CartButton","props","useContext","toggled","setToggle","styles","button","itemCount","fontSize","textTransform","marginTop","fontWeight","width","CartModal","products","setProduct","subTotal","transition","setTransition","handleModal","setTimeout","modalStyles","modalExit","animation","arrowExit","map","sku","name","quanity","price","color","src","key","pathname","state","background","filter","product","CartWidget","count","length","reduce","acc","current","lineHeight","top","bottom","position","height","padding"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { CartItemsContext } from '../context/cartContext';\r\nimport { CartModalContext } from '../context/modalContext';\r\nimport '../../layout/styles/CartModal.css';\r\nimport { Link } from 'react-router-dom';\r\nfunction CartButton(props) {\r\n  const [toggled, setToggle] = React.useContext(CartModalContext);\r\n  return (\r\n    <button\r\n      onClick={() => setToggle(!toggled)}\r\n      style={{ ...styles.button }}\r\n      className=\"toggleCartWidget\"\r\n    >\r\n      <i className=\"fas fa-shopping-bag\">\r\n        <p className=\"bagCount\">{props.itemCount}</p>\r\n      </i>\r\n      <p\r\n        style={{\r\n          fontSize: '12px',\r\n          textTransform: 'uppercase',\r\n          marginTop: '5px',\r\n          fontWeight: '600',\r\n          width: '60px',\r\n        }}\r\n      >\r\n        My Cart\r\n      </p>\r\n    </button>\r\n  );\r\n}\r\n\r\nfunction CartModal() {\r\n  const { products, setProduct, subTotal } = React.useContext(CartItemsContext);\r\n  const [toggled, setToggle] = React.useContext(CartModalContext);\r\n  const [transition, setTransition] = useState(false);\r\n  const handleModal = () => {\r\n    setTransition(!transition);\r\n    setTimeout(() => {\r\n      setToggle(!toggled);\r\n    }, 1000);\r\n  };\r\n\r\n  const modalStyles = {\r\n    modalExit: {\r\n      animation: 'modal-onExit 1s forwards',\r\n    },\r\n    arrowExit: {\r\n      animation: 'modalArrow-onExit 1s forwards',\r\n    },\r\n  };\r\n  return (\r\n    <aside\r\n      style={transition ? modalStyles.modalExit : null}\r\n      className=\"cart-popout-modal\"\r\n    >\r\n      <header className=\"cart-modal-header\">\r\n        <span\r\n          style={transition ? modalStyles.arrowExit : null}\r\n          onClick={handleModal}\r\n          className=\"fas fa-chevron-right\"\r\n        ></span>\r\n        <h1>Cart</h1>\r\n      </header>\r\n      <main>\r\n        <div className=\"cart-modal-product\">\r\n          <ul>\r\n            {products.map(({ sku, name, quanity, price, color, src, key }) => (\r\n              <li key={key} data-active=\"false\" className=\"cart-modal-item\">\r\n                <div className=\"item-wrapper\">\r\n                  <Link\r\n                    to={{\r\n                      pathname: '/Products',\r\n                      state: { name, sku, price, color, src, key },\r\n                    }}\r\n                  >\r\n                    <aside\r\n                      onClick={handleModal}\r\n                      className=\"item-image\"\r\n                      style={{\r\n                        background: `url(${src}) no-repeat left center / contain  `,\r\n                      }}\r\n                    ></aside>\r\n                  </Link>\r\n                  <div className=\"item-info\">\r\n                    <div className=\"item-header\">\r\n                      <h2>{name}</h2>\r\n\r\n                      <span\r\n                        onClick={() =>\r\n                          setProduct(\r\n                            products.filter((product) => product.sku !== sku)\r\n                          )\r\n                        }\r\n                        className=\"far fa-times-circle\"\r\n                      ></span>\r\n                    </div>\r\n                    <p>QTY:{quanity}</p>\r\n                    <p>{price}</p>\r\n                  </div>\r\n                </div>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n        <div className=\"cart-modal-total\">\r\n          <h1>Subtotal</h1>\r\n          <h1>{subTotal}</h1>\r\n        </div>\r\n      </main>\r\n\r\n      <footer className=\"modal-footer\">\r\n        <Link\r\n          to={{\r\n            pathname: '/Checkout',\r\n          }}\r\n        >\r\n          <button\r\n            onClick={handleModal}\r\n            className=\"product-item-addToCart defaultButton alt-button\"\r\n            type=\"button\"\r\n          >\r\n            View Cart\r\n          </button>\r\n        </Link>\r\n      </footer>\r\n    </aside>\r\n  );\r\n}\r\n\r\nfunction CartWidget() {\r\n  const { products } = React.useContext(CartItemsContext);\r\n  const count =\r\n    products.length >= 1\r\n      ? products.reduce((acc, current) => ({\r\n          quanity: acc.quanity + current.quanity,\r\n        }))\r\n      : 0;\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <CartButton itemCount={count.quanity || count} />\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport { CartWidget, CartModal };\r\n\r\nconst styles = {\r\n  button: {\r\n    lineHeight: '4',\r\n    top: '0',\r\n    bottom: '0',\r\n    position: 'relative',\r\n    height: 'auto',\r\n    padding: '0.5em 3em',\r\n    background: '#294057',\r\n    color: '#fff',\r\n  },\r\n};\r\n"]},"metadata":{},"sourceType":"module"}